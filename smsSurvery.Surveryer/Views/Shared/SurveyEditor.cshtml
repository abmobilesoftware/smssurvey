<script type="text/template" id="question-template">
   <%
      var questionType = "";
      if (Type == "no type") {
         questionType = "Type" 
      } else if (Type == "YesNo") {
         questionType = "Yes/No";
      } else if (Type == "FreeText") {
         questionType = "Free text";
      } else if (Type == "Rating") {
         questionType = "Rating";
      } else if (Type == "SelectOneFromMany") {
         questionType = "Select one from many";
      } else if (Type == "SelectManyFromMany") {
         questionType = "Select many from many";
      }
   %>
      <div class="grip">
         Click and drag
      </div>
      <div class="question-content">
         <div class="input-append">
            <input class="question-input" type="text" value="<%= Text %>" placeholder="Input question..." />
            <div class="btn-group">
               <button class="btn dropdown-toggle type-btn" data-toggle="dropdown">
                  <span class="type-btn-text"><%= questionType %></span>
                  <span class="caret"></span>
               </button>
               <ul class="dropdown-menu">            
                  <li><a href="#" value="YesNo" class="question-type">Yes/No</a></li>
                  <li><a href="#" value="FreeText" class="question-type">Free text</a></li>
                  <li><a href="#" value="Rating" class="question-type">Rating</a></li>
                  <li><a href="#" value="SelectOneFromMany" class="question-type">Select one from many</a></li>
                  <li><a href="#" value="SelectManyFromMany" class="question-type">Select many from many</a></li>               
               </ul>
            </div>
         </div>         
         <a href="#" class="btn btn-danger delete-btn">Delete</a>
    
      <% if (Type == "SelectOneFromMany" || Type == "SelectManyFromMany") { %>
         <a href="#multiple-answer-modal<%= Id %>" role="button" class="open-modal-btn btn edit-answers-btn" data-backdrop="static" data-toggle="modal"><img class="icon" src="/Content/images/edit_20.png" />Edit answers</a>   
         <div id="multiple-answer-modal<%= Id %>" class="modal hide fade">
            <div class="modal-header">               
               <h3> Configure answers </h3>
            </div>
            <div class="modal-body">
               <div class="answers-notifications hide">
               </div>   
               <table class="table table-striped table-bordered answers-table">
               
                </table>
                <a class="btn btn-primary add-answer-btn">Add answer</a>
            </div>
            <div class="modal-footer">
               <button type="button" class="btn btn-success save-answers">Ok</button>
               <button type="button" class="btn btn-danger close-answers-modal-btn" aria-hidden="true">Cancel</button>
            </div>
         </div>
      <% } else if (Type == "Rating") { %>
         <a href="#edit-rating-modal<%=Id %>" role="button" data-backdrop="static" class="open-modal-btn btn edit-ratings-btn" data-toggle="modal">Edit rating</a>   
         <div id="edit-rating-modal<%= Id %>" class="modal hide fade">
            <div class="modal-header">
               <h3>Edit rating</h3>
            </div>
            <div class="modal-body">                                   
            </div>
            <div class="modal-footer">
               <button type="button" class="btn btn-success save-rating">Ok</button>
               <button type="button" class="btn btn-danger close-rating-modal-btn" aria-hidden="true">Cancel</button>
            </div>
         </div>
      <% } %>
      <a href="#edit-alerts-modal<%= Id %>" data-backdrop="static" role="button" class="open-modal-btn btn edit-alerts-btn" data-toggle="modal"><img class="icon" src="/Content/images/bell-20.png" />Edit alerts</a>   
   
      <div id="edit-alerts-modal<%= Id %>" class="modal hide fade">
         <div class="modal-header">
            <h3>Edit alerts</h3>
         </div>
         <div class="modal-body">
            <div class="alerts-modal-content">
            </div>
            <button class="btn btn-primary add-alert-btn">Add alert</button>                 
         </div>
         <div class="modal-footer">
            <button type="button" class="btn btn-success save-alerts">Ok</button>
            <button type="button" class="btn btn-danger close-alerts-modal-btn" aria-hidden="true">Cancel</button>
         </div>
      </div>
   </div>
   <div class="clear"></div>
</script>

<script type="text/template" id="no-questions-template">
   <div class="question">No questions. Use the button below to add questions.</div>   
</script>

<script type="text/template" id="alert-template">
   <div class="alert-entry">
      <span class="input-label"><strong>Description:</strong></span>
      <input type="text" class="alert-description-input" placeholder="Ex: Insert description ..." value="<%= Description %>" />
      <button class="btn btn-danger delete-alert-btn"><img src="/Content/images/close_20.png" /></button>
      <br/>
      <select class="alert-operator-select">
                  <option value="noValue">Select operator</option>
         <% _.each(AlertOperatorsValues, function(alertOperator, index) { 
               if (alertOperator == Operator) { %>
                  <option value="<%= alertOperator %>" selected="selected"><%= AlertOperatorsLabels[index] %></option>
               <% } else { %>         
                  <option value="<%= alertOperator %>"><%= AlertOperatorsLabels[index]  %></option>
               <% }
            });%>			
      </select>
      <input type="text" class="alert-trigger-answer-input" value="<%= TriggerAnswer %>" placeholder="Insert trigger value" />
      <br/>
      <span class="bottom-input-label"><strong>Send mail to:</strong></span>
      <input type="text" class="alert-distribution-list-input bottom-input" value="<%= AlertNotification.DistributionList %>" placeholder="Ex: address1@domain.net,address2@domain.net"/>
  </div>
</script>

<script type="text/template" id="no-alerts-template">
   <div class="alert-entry">
      <span>No alerts</span>
   </div>
</script>

<script id="preview-sms-template" type="text/template">
   <img src="/Content/images/iphone_frame.png" />
   <div class="preview-content">

   </div>
</script>

<script id="preview-website-template" type="text/template">
   <img src="/Content/images/iphone_frame.png" />
   <div class="preview-content">

   </div>
</script>

<script id="question-preview-website-template" type="text/template">
        <div class="website-question-preview">
            <h4 class="website-question-title-preview"> <%= Text %> </h4>
            <div class="website-answer-area-preview">
               <%
               if (Type == SurveyUtilities.Utilities.CONSTANTS_QUESTION.TYPE_YES_NO) { %>
                   <input type="radio" name="yes-no-answer" value="1" /> Yes <br/>
                   <input type="radio" name="yes-no-answer" value="2" /> No  
               <% 
               } else if (Type == SurveyUtilities.Utilities.CONSTANTS_QUESTION.TYPE_FREE_TEXT) {
               %>
                   <textarea class="website-answer website-comment"></textarea>
               <%
               } else if (Type == SurveyUtilities.Utilities.CONSTANTS_QUESTION.TYPE_RATING) {
               %>
                
               <%
               } else if (Type == SurveyUtilities.Utilities.CONSTANTS_QUESTION.TYPE_SELECT_MANY_FROM_MANY) { 
                  _.each(Answers, function(answer, index) {  %>                     
                   <input type="checkbox" name="multiple-answers" class="css-checkbox"  value="<%= answer.AnswerLabel %>" />
                   <label for="multiple-answers" nname="multiple-answers-label"  class="css-label"><%=answer.AnswerLabel %></label>     
               <% });
               } else if (Type == SurveyUtilities.Utilities.CONSTANTS_QUESTION.TYPE_SELECT_ONE_FROM_MANY) { %>
                     <select>    
                        <option value="noValue">Select option</option>
                     <% _.each(Answers, function(answer, index) {  %>
                        <option value="<%= answer.AnswerLabel %>"><%= answer.AnswerLabel %></option>   
                     <% });  %>
                     </select>   
               <% } %>          
            </div>
        </div>
</script>

<script type="text/template" id="question-preview-sms-template">
   <% 
   var questionText = Text;
   if (Type == SurveyUtilities.Utilities.CONSTANTS_QUESTION.TYPE_YES_NO) {
      questionText += " 1 for yes. 2 for no";
   } else if (Type == SurveyUtilities.Utilities.CONSTANTS_QUESTION.TYPE_RATING) {
      var answersDetailsSplitted = ValidAnswersDetails.split(";") 
      var scaleSize = answersDetailsSplitted.length;   
      questionText += " Reply with a rating from 1 (" + answersDetailsSplitted[0] + ") to " + scaleSize + "(" + answersDetailsSplitted[scaleSize-1] + ").";
   } else if (Type == SurveyUtilities.Utilities.CONSTANTS_QUESTION.TYPE_SELECT_ONE_FROM_MANY) {
      questionText += " Reply with the corresponding number.";
      _.each(Answers, function(answer, index) {
         questionText += (index + 1) + "-" + answer.AnswerLabel + ", ";
      });
   } else if (Type == SurveyUtilities.Utilities.CONSTANTS_QUESTION.TYPE_SELECT_MANY_FROM_MANY) {
      questionText += " Reply with the corresponding numbers.";
      _.each(Answers, function(answer, index) {
         questionText += (index + 1) + "-" + answer.AnswerLabel + ", ";
      });
   }
   %>
   <div class="customer">
      <p class="message"><%= questionText %></p>     
   </div>
   <div class="staff">
      Customer's answer
   </div>
</script>


<script type="text/template" id="star-template">
        <% if (Active) { %>
            <a href="#"><img class="starImg" src="/Content/images/star50.png" /></a>
            <% } else { %>
            <a href="#"><img class="starImg" src="/Content/images/star50_inactive.png" /></a>
            <% } %>
</script>

<script type="text/template" id="star-bar-template">
   <fieldset class='additionalInfo'>
      <legend class='stars-additional-info'>Why?</legend><textarea class='website-comment'></textarea>
   </fieldset>
   <input type='hidden' class='answer' value='noValue' />
</script>

<script type="text/template" id="survey-info-template">
   <div id="survey-info-title" class="section-title">
      <h4 class="section-title-text">
         <a class="edit-survey" href="#">
         <% if (DisplayInfoTable) { %>
            <img src="/Content/images/arrow_down_dblue_16.png" />           
         <% } else { %>
            <img src="/Content/images/arrow_up_dblue_16.png" />
         <% } %>
         </a>
         <span class="survey-info-title-text"><%= Description %></span> 
      </h4> 
      <a class="btn btn-success save-btn section-title-button" role="button" data-toggle="modal" href="#">Save</a>
   </div>
   <% if (DisplayInfoTable) { %> 
   <table class="table table-striped table-bordered survey-info-data">
      <tr>
         <td>Description</td>
         <td><input type="text" placeholder="Insert survey description" id="survey-description" value="<%= Description %>"/></td>
      </tr>
       <tr>
         <td>Introductory message</td>
         <td><input type="text" placeholder="Insert survey intro" id="survey-intro" value="<%= IntroMessage %>"/></td>
      </tr>
      <tr>
         <td>Thank you message & follow up</td>
         <td><input type="text" placeholder="Insert thank you message" id="survey-thank-you-message" value="<%= ThankYouMessage %>"/></td>
      </tr>
       <tr>
         <td>Survey language</td>
          <%
            var language = "";
            if (DefaultLanguage == "en-US") {
               language = "English" 
            } else if (DefaultLanguage == "ro-RO") {
               language = "Romanian";       
            }     
         %>
         <td>
            <div class="btn-group">
             <button class="btn dropdown-toggle type-btn" data-toggle="dropdown">
                  <span class="type-btn-text"><%= language %></span>
                  <span class="caret"></span>
               </button>
            <ul class="dropdown-menu">            
                  <li><a href="#" value="en-US" class="languageSelect">English</a></li>
                  <li><a href="#" value="ro-RO" class="languageSelect">Romanian</a></li>                  
            </ul>
            </div>          
      </tr>
      <tr>
         <% var idRepresentation = Id == -1 ? "-" : Id; %>
         <td>ID</td>
         <td><%= idRepresentation %></td>
      </tr>
      <tr>
         <td>Mobile website location</td>
         <td><a href="<%= MobileWebsiteLocation %>"><%= MobileWebsiteLocation %></a></td>
      </tr>
      </table>
   <% } %>
</script>

<script type="text/template" id="answer-template">
   <td><input class="answer-label-input bottom-input" type="text" value="<%= AnswerLabel %>" placeholder="Input answer..." /></td>
   <td><button class="btn btn-danger delete-answer">Delete answer</button></td>   
</script>

<script type="text/template" id="no-answers-template">
   <tr>
      <td>No answers</td>
   </tr>
</script>

<script type="text/template" id="rating-modal-content-template">
   <div class="ratings-notifications hide">
   </div>  
   <select id="rating-select"> 
      <option value="noValue">Select scale size</option>
      <option value="3" <% if (ScaleSize == 3) { %> selected="selected" <% } %>>Scale 1 to 3</option>
      <option value="5" <% if (ScaleSize == 5) { %> selected="selected" <% } %>>Scale 1 to 5</option>
   </select>
   <div class="rating-modal-content">
      <table class="table table-striped table-bordered rating-table">
      </table>
   </div>       
</script>

<script type="text/template" id="rating-template">
   <td><%=RatingIdentifier %></td>
   <td><input class="rating-label-input bottom-input" type="text" value="<%=RatingLabel %>" placeholder="Rating value"/></td>
</script>

<div id="survey">
   <div id="survey-notification hide">
      <p class="notification-text"></p>
   </div>
   <div id="survey-info">
   </div>
   <div id="survey-builder">
      <div class="survey-builder-title-wrapper section-title">
         <h4 class="survey-builder-title section-title-text">Questions</h4>
         <a class="btn btn-warning preview-btn section-title-button" role="button" data-toggle="modal" href="#preview-modal">Preview</a>
         <div class="clear"></div>
      </div>
      <div id="question-set">
         <ul id="question-set-content">
         </ul>
         <button class="btn btn-primary add-question-btn" type="button">Add question</button>
      </div>
      <div id="preview-modal" class="modal hide fade">
         <div class="modal-header">
            <button type="button" class="close-modal-btn close" data-dismiss="modal" aria-hidden="true">x</button>
            <div class="btn-group preview-tabs" data-toggle="buttons-radio">
               <button type="button" class="btn btn-primary sms-preview-btn active">SMS</button>
               <button type="button" class="btn btn-primary mobile-website-btn">Mobile website</button>
            </div>
         </div>
         <div id="preview-content-modal" class="modal-body">
         </div>
      </div>
   </div>
</div>
<a href="/SurveyPlan">Back to survey list</a>